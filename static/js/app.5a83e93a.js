(function(e){function t(t){for(var a,i,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},r={app:0},o=[];function c(e){return s.p+"static/js/"+({}[e]||e)+"."+{"chunk-0e6561c8":"cf0d8582","chunk-2d0b6d0c":"5d076c29","chunk-2d0c8bf7":"7851170a","chunk-2d0e4e1f":"8833c3bc","chunk-2d0e5357":"a6d45349","chunk-2d0e5ed4":"610f816a","chunk-2d2163f3":"473dd0cb","chunk-2d226cab":"70433bfd","chunk-2d229205":"d424ae97","chunk-2d22d79a":"47c49313","chunk-7409b150":"3502b6a3","chunk-cacb5f6c":"f7d79c54"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-0e6561c8":1,"chunk-7409b150":1,"chunk-cacb5f6c":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="static/css/"+({}[e]||e)+"."+{"chunk-0e6561c8":"2cd90694","chunk-2d0b6d0c":"31d6cfe0","chunk-2d0c8bf7":"31d6cfe0","chunk-2d0e4e1f":"31d6cfe0","chunk-2d0e5357":"31d6cfe0","chunk-2d0e5ed4":"31d6cfe0","chunk-2d2163f3":"31d6cfe0","chunk-2d226cab":"31d6cfe0","chunk-2d229205":"31d6cfe0","chunk-2d22d79a":"31d6cfe0","chunk-7409b150":"3c2b2221","chunk-cacb5f6c":"35b95241"}[e]+".css",r=s.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[e],f.parentNode.removeChild(f),n(o)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){i[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-admin-webapp/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0f9a":function(e,t,n){"use strict";n.r(t);n("0fb7"),n("450d");var a=n("f529"),i=n.n(a),r=(n("d3b7"),n("be4f"),n("896a")),o=n.n(r),c=n("bc3a"),s=n.n(c),u=n("2b0e"),l=n("4328"),d=n.n(l),f=n("4360"),h=new s.a.create({baseURL:"https://www.fastmock.site/mock/a8b182f11949e3c820bcc6a644992e4e/razzh",timeout:3e4});u["default"].prototype.$http=s.a;var p=null;h.interceptors.request.use((function(e){p=o.a.service({text:"拼命加载中～"});var t=f["a"].getters.token;return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),h.interceptors.response.use((function(e){if(e)return p.close(),Promise.resolve(e.data)}),(function(e){p.close()}));var m={post:function(e,t){return h({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},url:e,data:d.a.stringify(t)})},get:function(e,t){return h({method:"GET",url:e,params:t})}};function b(e){var t="/login";return m.post(t,e)}function v(e){var t="/userInfo";return m.get(t,e)}var g=n("a18c"),k={token:localStorage.getItem("token")?localStorage.getItem("token"):"",userInfo:"",avatar:"",roles:[]},_={SET_TOKEN:function(e,t){e.token=t,localStorage.setItem("token",t)},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t},REMOVE_TOKEN:function(e){e.token="",localStorage.removeItem("token")},REMOVE_ROLES:function(e){e.roles=[]}},O={_login:function(e,t){var n=e.commit;return new Promise((function(e,a){b(t).then((function(t){if(0===t.code){var r=t.data;i.a.success(r.user.msg),n("SET_TOKEN",r.user.token),e(t)}else a(t)})).catch((function(e){a(e)}))}))},_userInfo:function(e){var t=e.commit,n=e.state;return new Promise((function(e,a){v({token:n.token}).then((function(n){if(0===n.code){var a=n.data;t("SET_ROLES",a.roles),t("SET_AVATAR",a.avatar),e(n.data)}})).catch((function(e){a(e)}))}))},_loginOut:function(e){var t=e.commit;return new Promise((function(e){t("REMOVE_TOKEN"),t("REMOVE_ROLES"),Object(g["d"])(),e()}))}};t["default"]={namespaced:!0,state:k,mutations:_,actions:O}},2938:function(e,t,n){"use strict";n("d66b")},"31c2":function(e,t,n){"use strict";n.r(t);var a=n("5530"),i=(n("99af"),n("d3b7"),n("caad"),n("2532"),n("159b"),n("a18c")),r={routes:[],asyncRoutes:[]},o={SET_ROUTES:function(e,t){e.routes=i["b"].concat(t),e.asyncRoutes=t}},c={generatorRoutes:function(e,t){var n=e.commit;return new Promise((function(e){var a;a=t.includes("admin")?i["a"]||[]:s(i["a"],t),n("SET_ROUTES",a),e(a)}))}};function s(e,t){var n=[];return e.forEach((function(e){var i=Object(a["a"])({},e);u(e,t)&&(i.children&&(i.children=s(i.children,t)),n.push(i))})),n}function u(e,t){return!e.meta||!e.meta.roles||t.some((function(t){return e.meta.roles.includes(t)}))}t["default"]={namespaced:!0,state:r,mutations:o,actions:c}},4360:function(e,t,n){"use strict";n("159b"),n("d3b7"),n("ddb0");var a=n("2b0e"),i=n("2f62"),r={token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},roles:function(e){return e.user.roles},sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},permission_routes:function(e){return e.permission.routes},view_tags:function(e){return e.viewtags.tagsList}},o=r;a["default"].use(i["a"]);var c=n("df7c"),s=n("d307"),u={};s.keys().forEach((function(e){var t=c.basename(e,".js");u[t]=s(e).default||s(e)}));var l=new i["a"].Store({modules:u,getters:o});t["a"]=l},"4add":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o=n("2877"),c={},s=Object(o["a"])(c,i,r,!1,null,null,null),u=s.exports,l=n("a18c"),d=n("4360"),f=(n("0fb7"),n("450d"),n("f529")),h=n.n(f),p=(n("a7cc"),n("df33")),m=n.n(p),b=(n("cbb5"),n("8bbc")),v=n.n(b),g=(n("5466"),n("ecdf")),k=n.n(g),_=(n("38a0"),n("ad41")),O=n.n(_),w=(n("b84d"),n("c216")),T=n.n(w),E=(n("8f24"),n("76b9")),y=n.n(E),C=(n("bd49"),n("18ff")),S=n.n(C),x=(n("960d"),n("defb")),j=n.n(x),$=(n("cb70"),n("b370")),A=n.n($),L=(n("915d"),n("e04d")),M=n.n(L),P=(n("2986"),n("14e9")),R=n.n(P),D=(n("34db"),n("3803")),I=n.n(D),B=(n("3c52"),n("0d7b")),H=n.n(B),V=(n("fe07"),n("6ac5")),N=n.n(V),G=(n("8bd8"),n("4cb2")),z=n.n(G),q=(n("ce18"),n("f58e")),U=n.n(q),W=(n("4ca3"),n("443e")),K=n.n(W),F=(n("1951"),n("eedf")),Y=n.n(F),J=(n("10cb"),n("f3ad")),X=n.n(J),Q=(n("eca7"),n("3787")),Z=n.n(Q),ee=(n("425f"),n("4105")),te=n.n(ee);a["default"].use(te.a),a["default"].use(Z.a),a["default"].use(X.a),a["default"].use(Y.a),a["default"].use(K.a),a["default"].use(U.a),a["default"].use(z.a),a["default"].use(N.a),a["default"].use(H.a),a["default"].use(I.a),a["default"].use(R.a),a["default"].use(M.a),a["default"].use(A.a),a["default"].use(j.a),a["default"].use(S.a),a["default"].use(y.a),a["default"].use(T.a),a["default"].use(O.a),a["default"].use(k.a),a["default"].use(v.a),a["default"].use(m.a),a["default"].prototype.$message=h.a;n("b20f");var ne=n("5530"),ae=n("1da1"),ie=(n("96cf"),n("323e")),re=n.n(ie);n("a5d8"),n("99af");function oe(e){var t="Vue-admin";return"".concat(e," | ").concat(t)}function ce(){return localStorage.getItem("token")}re.a.configure({showSpinner:!1}),l["c"].beforeEach(function(){var e=Object(ae["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,r,o,c,s,u,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(document.title=oe(t.meta.title),re.a.start(),"/login"!==t.path){e.next=7;break}re.a.start(),a(),e.next=33;break;case 7:if(i=ce(),!i){e.next=32;break}if(r=d["a"].getters.roles.length>0,!r){e.next=14;break}a(),e.next=30;break;case 14:return e.prev=14,e.next=17,d["a"].dispatch("user/_userInfo",localStorage.getItem("token"));case 17:return o=e.sent,c=o.roles,e.next=21,d["a"].dispatch("permission/generatorRoutes",c);case 21:for(s=e.sent,console.log("我是roles",s),u=0;u<s.length;u++)f=s[u],l["c"].addRoute(f);a(Object(ne["a"])(Object(ne["a"])({},t),{},{replace:!0})),e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](14),console.log(e.t0);case 30:e.next=33;break;case 32:a({path:"/login",query:{redirect:t.fullPath}});case 33:case"end":return e.stop()}}),e,null,[[14,27]])})));return function(t,n,a){return e.apply(this,arguments)}}()),l["c"].afterEach((function(){re.a.done()})),a["default"].config.productionTip=!1,new a["default"]({router:l["c"],store:d["a"],render:function(e){return e(u)}}).$mount("#app")},"5a3a":function(e,t,n){"use strict";n("8a37")},"5a40":function(e,t,n){},"6d43":function(e,t,n){},"81a5":function(e,t,n){e.exports=n.p+"static/img/logo.21bf62ca.png"},"8a37":function(e,t,n){},a18c:function(e,t,n){"use strict";n.d(t,"b",(function(){return He})),n.d(t,"a",(function(){return Ve})),n.d(t,"d",(function(){return ze}));n("d3b7"),n("3ca3"),n("ddb0");var a=n("2b0e"),i=n("8c4f"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-wrapper",class:e.classObj},[n("div",{class:{"drawer-bg":e.sidebar.opened&&e.classObj.mobile},on:{click:e.toggleSidebar}}),n("sidebar",{staticClass:"sidebar-container",class:{arrow:e.classObj.hideSidebar}}),n("div",{staticClass:"main-container"},[n("div",{staticClass:"nav-header"},[n("navbar"),n("view-tags")],1),n("page-main")],1)],1)},o=[],c=n("5530"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar"},[n("hamburger",{attrs:{"is-active":e.sidebar.opened},on:{toggleClick:e.toggleClick}}),n("breadcrumb",{staticClass:"breadcrumb-container"}),n("div",{staticClass:"right-menu"},[n("el-dropdown",{staticClass:"dropdown hover-effect",attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("div",{staticClass:"avatar-container"},[n("img",{staticClass:"avatar",attrs:{src:e.avatar}}),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"loginOut"}},[e._v("登出")])],1)],1)],1)],1)},u=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hamburger-container",on:{click:e.toggleClick}},[n("svg",{staticClass:"hamburger",class:{isActive:e.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[n("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])},d=[],f={name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},methods:{toggleClick:function(){this.$emit("toggleClick")}}},h=f,p=(n("e79f"),n("2877")),m=Object(p["a"])(h,l,d,!1,null,"658b8f15",null),b=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breadcrumb"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.navList,(function(t,a){return n("el-breadcrumb-item",{key:a},[n("a",{on:{click:function(n){return n.preventDefault(),e.handleLink(t)}}},[e._v(e._s(t.meta.title))])])})),1)],1)],1)},g=[],k=(n("4de4"),n("99af"),n("2ca0"),{watch:{$route:function(e){this.getNavList()}},data:function(){return{navList:null}},methods:{getNavList:function(){this.isDashboard(this.$route.path)?this.navList=this.$route.matched.filter((function(e){return e.meta&&e.meta.title})):this.navList=[{path:"/",meta:{title:"首页"}}].concat(this.$route.matched.filter((function(e){return e.meta&&e.meta.title})))},isDashboard:function(e){return!!e.startsWith("/dashboard")},handleLink:function(e){var t=e.path;this.$router.push(t).catch((function(){}))}}}),_=k,O=(n("c308"),Object(p["a"])(_,v,g,!1,null,"5e0f8676",null)),w=O.exports,T=n("2f62"),E={components:{Hamburger:b,Breadcrumb:w},computed:Object(c["a"])({},Object(T["b"])(["sidebar","avatar"])),methods:{toggleClick:function(){this.$store.dispatch("app/toggleSideBar")},handleCommand:function(e){"loginOut"===e&&this.loginOut()},loginOut:function(){var e=this;this.$store.dispatch("user/_loginOut").then((function(){e.$router.push({path:"/login",query:{redirect:e.$route.fullPath}}),e.$store.dispatch("viewtags/enptyTag")}))}}},y=E,C=(n("ed26"),Object(p["a"])(y,s,u,!1,null,"529eb0aa",null)),S=C.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("logo",{attrs:{collapse:e.isCollapse}}),n("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[n("el-menu",{attrs:{"default-active":this.$route.path,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"active-text-color":e.variables.menuActiveText,"unique-opened":!1,collapse:e.isCollapse,"collapse-transition":!1,mode:"vertical"}},e._l(e.permission_routes,(function(e){return n("sidebar-item",{key:e.path,attrs:{item:e,"base-path":e.path}})})),1)],1)],1)},j=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-item"},[!e.isOnlyChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowChildren?n("el-submenu",{staticClass:"nested-menu",attrs:{index:e.resolvePath(e.item.path),"popper-append-to-body":""}},[e.item.meta&&!e.item.hidden?n("template",{slot:"title"},[n("i",{class:e.item.meta.icon}),n("span",{staticClass:"menu-title"},[e._v(e._s(e.item.meta.title))])]):e._e(),e._l(e.item.children,(function(t){return n("sidebar-item",{key:t.path,staticClass:"nest-menu",attrs:{"base-path":e.resolvePath(t.path),item:t}})}))],2):[!e.onlyOneChild.hidden&&e.onlyOneChild.meta?n("page-link",{attrs:{to:e.resolvePath(e.onlyOneChild.path)}},[n("el-menu-item",{attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[n("i",{class:e.onlyOneChild.meta.icon}),n("span",{staticClass:"menu-title"},[e._v(e._s(e.onlyOneChild.meta.title))])])],1):e._e()]],2)},A=[];function L(e){return/^(https?:|mailto:|tel:)/.test(e)}var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.type,e._b({tag:"component"},"component",e.tagAttrs(e.to),!1),[e._t("default")],2)},P=[],R={props:{to:{type:String,require:!0}},computed:{type:function(){return L(this.to)?"a":"router-link"}},methods:{tagAttrs:function(e){return L(e)?{href:e,target:"_blank",ref:"noopener"}:{to:e}}}},D=R,I=Object(p["a"])(D,M,P,!1,null,null,null),B=I.exports,H=n("df7c"),V=n.n(H),N={name:"SidebarItem",components:{PageLink:B},props:{item:{type:Object,default:{}},basePath:String,default:""},data:function(){return{onlyOneChild:null}},methods:{isOnlyChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.filter((function(e){return!e.hidden}));return 1===n.length?(this.onlyOneChild=n[0],!0):0===n.length&&(this.onlyOneChild=Object(c["a"])(Object(c["a"])({},t),{},{path:"",noShowChildren:!0}),!0)},resolvePath:function(e){return L(e)?e:L(this.basePath)?this.basePath:V.a.resolve(this.basePath,e)}}},G=N,z=Object(p["a"])(G,$,A,!1,null,null,null),q=z.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"logo"},[n("transition",{attrs:{name:"sidebarLogoFade"}},[e.collapse?n("router-link",{key:"collapse",staticClass:"img-container",attrs:{to:"/"}},[n("img",{attrs:{src:e.logo,alt:"Vue-admin"}}),n("span",{staticClass:"logo-title"},[e._v(e._s(e.logoTitle))])]):e._e(),e.collapse?e._e():n("router-link",{key:"expend",staticClass:"img-container",attrs:{to:"/"}},[n("img",{attrs:{src:e.logo,alt:"Vue-admin"}}),n("span",{staticClass:"logo-title"},[e._v(e._s(e.logoTitle))])])],1)],1)},W=[],K=n("81a5"),F=n.n(K),Y={data:function(){return{logoTitle:"Vue Admin WebApp",logo:F.a}},props:{collapse:{type:Boolean,default:!0}}},J=Y,X=(n("f191"),Object(p["a"])(J,U,W,!1,null,"738fe8c6",null)),Q=X.exports,Z=n("cf1e"),ee=n.n(Z),te={components:{SidebarItem:q,Logo:Q},computed:Object(c["a"])(Object(c["a"])({},Object(T["b"])(["sidebar","permission_routes"])),{},{isCollapse:function(){return!this.sidebar.opened},variables:function(){return ee.a}})},ne=te,ae=Object(p["a"])(ne,x,j,!1,null,null,null),ie=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-main"},[n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("router-view",{key:this.$route.path})],1)],1)},oe=[],ce={},se=ce,ue=(n("d96f"),Object(p["a"])(se,re,oe,!1,null,"47d2d3b8",null)),le=ue.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view-tags"},[n("mouse-scroll",{staticClass:"scroll-container",attrs:{vertical:!1}},e._l(e.viewTags,(function(t){return n("router-link",{key:t.path,ref:"tag",refInFor:!0,staticClass:"view-tags-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path},custom:""},nativeOn:{contextmenu:function(n){return n.preventDefault(),e.openMenu(t,n)}},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.navigate;return[n("span",{on:{click:i}},[e._v(" "+e._s(t.title)+" "),t.meta&&!t.meta.affix?n("span",{staticClass:"el-icon-close",on:{click:function(n){return n.stopPropagation(),e.closeCurTag(t)}}}):e._e()])]}}],null,!0)})})),1),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"nav-menu",style:{top:e.tTop+"px",left:e.tLeft+"px"}},[n("li",{on:{click:function(t){return e.closeCurTag(e.selectTag)}}},[e._v("关闭标签")]),n("li",{on:{click:function(t){return e.closeOther(e.selectTag)}}},[e._v("关闭其他标签")]),n("li",{on:{click:e.closeAll}},[e._v("关闭所有标签")])])],1)},fe=[],he=n("b85c"),pe=n("2909"),me=(n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll.apply(null,arguments)}}},[e._t("default")],2)}),be=[],ve={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,n=this.scrollWrapper;n.scrollLeft=n.scrollLeft+t/4}}},ge=ve,ke=(n("ff2e"),Object(p["a"])(ge,me,be,!1,null,"3ff9c8cb",null)),_e=ke.exports,Oe={data:function(){return{visible:!1,tLeft:0,tTop:0,selectTag:{}}},watch:{$route:function(e){this.addTags()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},computed:Object(c["a"])(Object(c["a"])({},Object(T["b"])(["view_tags","permission_routes"])),{},{viewTags:function(){return this.view_tags},routes:function(){return this.permission_routes}}),methods:{addTags:function(){this.$store.dispatch("viewtags/addTags",this.$route)},isActive:function(e){return e.path===this.$route.path},closeCurTag:function(e){this.$store.dispatch("viewtags/removeTag",e),e.path!==this.$route.path?this.updateViews():this.lastTag()},lastTag:function(){var e=this.view_tags,t=e[e.length-1];this.$router.push({path:t.path}).catch((function(){}))},initTags:function(){var e=this,t=this.routes,n=this.filterTags(t);n.forEach((function(t){t.title&&e.$store.dispatch("viewtags/addTags",t)}))},filterTags:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",a=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var i=V.a.resolve(n,e.path);a.push({fullPath:i,path:i,title:e.meta.title,meta:Object(c["a"])({},e.meta)})}if(e.children){var r=t.filterTags(e.children,e.path);a=[].concat(Object(pe["a"])(a),Object(pe["a"])(r))}})),a},updateViews:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var n,a=Object(he["a"])(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.to.path===e.$route.path&&e.$router.push({path:i.to.path}).catch((function(){}))}}catch(r){a.e(r)}finally{a.f()}}))},openMenu:function(e,t){var n=this.$el.getBoundingClientRect().left,a=t.clientX-n+15,i=t.clientY;this.visible=!0,this.tLeft=a,this.tTop=i,this.selectTag=e},closeMenu:function(){this.visible=!1},closeOther:function(e){var t=this,n=this.$refs.tag;this.$store.dispatch("viewtags/closeOther",e),this.$nextTick((function(){var a,i=Object(he["a"])(n);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.to.path===e.path&&t.$router.push({path:r.to.path}).catch((function(){}))}}catch(o){i.e(o)}finally{i.f()}}))},closeAll:function(){var e=this;this.$store.dispatch("viewtags/enptyTag");var t=this.viewTags.length;this.$nextTick((function(){var n=e.viewTags[t-1];e.$router.push({path:n.path}).catch((function(){}))}))}},components:{MouseScroll:_e}},we=Oe,Te=(n("5a3a"),Object(p["a"])(we,de,fe,!1,null,"3500afe5",null)),Ee=Te.exports,ye=n("4360"),Ce=992,Se=document,xe=Se.body,je={watch:{$route:function(){"mobile"===this.device&&this.sidebar.opened&&ye["a"].dispatch("app/closeSidebar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){this.$_isMobile()&&(ye["a"].dispatch("app/toggleDevice","mobile"),ye["a"].dispatch("app/closeSidebar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){var e=xe.getBoundingClientRect();return e.width-1<Ce},$_resizeHandler:function(){var e=this.$_isMobile();ye["a"].dispatch("app/toggleDevice",e?"mobile":"desktop"),e&&ye["a"].dispatch("app/closeSidebar",{withoutAnimation:!0})}}},$e={name:"Layout",components:{Navbar:S,Sidebar:ie,PageMain:le,ViewTags:Ee},mixins:[je],computed:Object(c["a"])(Object(c["a"])({},Object(T["b"])(["sidebar","device"])),{},{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,mobile:"mobile"===this.device,withoutAnimation:this.sidebar.withoutAnimation}}}),methods:{toggleSidebar:function(){this.$store.dispatch("app/closeSidebar",{withoutAnimation:!1})}}},Ae=$e,Le=(n("2938"),Object(p["a"])(Ae,r,o,!1,null,null,null)),Me=Le.exports,Pe={path:"/nested",component:Me,redirect:"/nested/menu1/menu1-1",meta:{title:"多级菜单",icon:"el-icon-s-claim"},children:[{path:"menu1",name:"Menu1",redirect:"/nested/menu1/menu1-2",component:function(){return n.e("chunk-2d226cab").then(n.bind(null,"e9bc"))},meta:{title:"Menu1",icon:"el-icon-s-marketing"},children:[{path:"menu1-1",name:"Menu1-1",redirect:"/nested/menu1/menu1-1/menu1-1-1",component:function(){return n.e("chunk-2d0e4e1f").then(n.bind(null,"91b3"))},meta:{title:"Menu1-1",icon:"el-icon-s-flag"},children:[{path:"menu1-1-1",name:"Menu1-1-1",component:function(){return n.e("chunk-2d0e5ed4").then(n.bind(null,"9722"))},meta:{title:"Menu1-1-1",icon:"el-icon-s-claim"}},{path:"menu1-1-2",name:"Menu1-1-2",component:function(){return n.e("chunk-2d0b6d0c").then(n.bind(null,"1f89"))},meta:{title:"Menu1-1-2",icon:"el-icon-s-claim"}}]},{path:"menu1-2",name:"Menu1-2",component:function(){return n.e("chunk-2d0c8bf7").then(n.bind(null,"55cd"))},meta:{title:"Menu1-2",icon:"el-icon-s-order"}}]},{path:"menu2",name:"Menu2",component:function(){return n.e("chunk-2d229205").then(n.bind(null,"dbb3"))},meta:{title:"Menu2",icon:"el-icon-s-ticket"}}]},Re={path:"/permission",component:Me,children:[{path:"assign",name:"Assign",component:function(){return n.e("chunk-2d2163f3").then(n.bind(null,"c23a"))},meta:{title:"权限分配",icon:"el-icon-lock",roles:["admin"]}}]},De={path:"/table",component:Me,children:[{path:"ratable",name:"Table",component:function(){return n.e("chunk-7409b150").then(n.bind(null,"90fe"))},meta:{title:"表格",icon:"el-icon-s-grid",roles:["admin"]}}]},Ie={path:"/test",component:Me,children:[{path:"index",name:"Test",component:function(){return n.e("chunk-2d22d79a").then(n.bind(null,"f83e"))},meta:{title:"测试单元",icon:"el-icon-s-promotion",affix:!0}}]},Be={path:"/github",component:Me,children:[{path:"https://github.com/rzhAvenir",meta:{title:"Me",icon:"el-icon-info"}}]};a["default"].use(i["a"]);var He=[{path:"/login",name:"Login",component:function(){return n.e("chunk-cacb5f6c").then(n.bind(null,"9ed6"))},meta:{title:"登录页"},hidden:!0},{path:"/404",component:function(){return n.e("chunk-0e6561c8").then(n.bind(null,"2754"))},hidden:!0},{path:"/",name:"Home",component:Me,redirect:"/dashboard",children:[{path:"dashboard",name:"Dashboard",component:function(){return n.e("chunk-2d0e5357").then(n.bind(null,"9406"))},meta:{title:"首页",icon:"el-icon-s-home",affix:!0}}]}],Ve=[Re,Pe,De,Ie,Be,{path:"*",redirect:"/404",hidden:!0}],Ne=function(){return new i["a"]({routes:He})},Ge=Ne();function ze(){var e=Ne();Ge.matcher=e.matcher}t["c"]=Ge},a63a:function(e,t,n){},b20f:function(e,t,n){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},b408:function(e,t,n){"use strict";n.r(t);n("a434"),n("4de4");var a={tagsList:[]},i={ADD_TAGS:function(e,t){var n=t.meta.title;e.tagsList.some((function(e){return e.title===n}))||e.tagsList.push(Object.assign({},t,{title:n}))},REMOVE_TAG:function(e,t){for(var n=e.tagsList,a=0;a<n.length;a++)n[a].path===t.path&&n.splice(a,1);e.tagsList=n},CLOSE_OTHER:function(e,t){e.tagsList=e.tagsList.filter((function(e){return e.path===t.path||e.meta.affix}))},EMPTY_TAG:function(e){e.tagsList=e.tagsList.filter((function(e){return e.meta&&e.meta.affix}))}},r={addTags:function(e,t){var n=e.commit;n("ADD_TAGS",t)},removeTag:function(e,t){var n=e.commit;n("REMOVE_TAG",t)},closeOther:function(e,t){var n=e.commit;n("CLOSE_OTHER",t)},enptyTag:function(e){var t=e.commit;t("EMPTY_TAG")}};t["default"]={namespaced:!0,state:a,mutations:i,actions:r}},c308:function(e,t,n){"use strict";n("5a40")},c99b:function(e,t,n){},cf1e:function(e,t,n){e.exports={menuText:"#bfcbd9",menuActiveText:"#409eff",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"}},d307:function(e,t,n){var a={"./app.js":"d9cd","./permission.js":"31c2","./user.js":"0f9a","./viewtags.js":"b408"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="d307"},d66b:function(e,t,n){},d96f:function(e,t,n){"use strict";n("a63a")},d9cd:function(e,t,n){"use strict";n.r(t);var a={sidebar:{opened:!localStorage.getItem("opened")||!!+localStorage.getItem("opened"),withoutAnimation:!1},device:"desktop"},i={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?localStorage.setItem("opened",1):localStorage.setItem("opened",0)},COLSE_SIDEBAR:function(e,t){var n=t.withoutAnimation;e.sidebar.opened=!1,e.sidebar.withoutAnimation=n},TOGGLE_DEVICE:function(e,t){e.device=t}},r={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSidebar:function(e,t){var n=e.commit;n("COLSE_SIDEBAR",t)},toggleDevice:function(e,t){var n=e.commit;n("TOGGLE_DEVICE",t)}};t["default"]={namespaced:!0,state:a,mutations:i,actions:r}},df28:function(e,t,n){},e79f:function(e,t,n){"use strict";n("4add")},ed26:function(e,t,n){"use strict";n("6d43")},f191:function(e,t,n){"use strict";n("c99b")},ff2e:function(e,t,n){"use strict";n("df28")}});
//# sourceMappingURL=app.5a83e93a.js.map